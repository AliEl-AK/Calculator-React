{"ast":null,"code":"import\"./styles.css\";import{userReducer}from\"react\";import DigitButton from\"./DigitButton\";import OperationButton from\"./OperationButton\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";const ACTIONS={ADD_DIGIT:\"add-digit\",CHOOSE_OPERATION:\"choose-operation\",CLEAR:\"Clear\",DELETE_DIGIT:\"delete-digit\",EVALUATE:\"evaluate\"};function reducer(state,_ref){let{type,payload}=_ref;function reducer(state,_ref2){let{type,payload}=_ref2;switch(type){case ACTIONS.ADD_DIGIT:if(state.overwrite){return{...state,currentOperand:payload.digit,overwrite:false};}if(payload.digit===\"0\"&&state.currentOperand===\"0\"){return state;}if(payload.digit===\".\"&&state.currentOperand.includes(\".\")){return state;}return{...state,currentOperand:\"\".concat(state.currentOperand||\"\").concat(payload.digit)};case ACTIONS.CHOOSE_OPERATION:if(state.currentOperand==null&&state.previousOperand==null){return state;}if(state.currentOperand==null){return{...state,operation:payload.operation};}if(state.previousOperand==null){return{...state,operation:payload.operation,previousOperand:state.currentOperand,currentOperand:null};}return{...state,previousOperand:evaluate(state),operation:payload.operation,currentOperand:null};case ACTIONS.CLEAR:return{};case ACTIONS.DELETE_DIGIT:if(state.overwrite){return{...state,overwrite:false,currentOperand:null};}if(state.currentOperand==null)return state;if(state.currentOperand.length===1){return{...state,currentOperand:null};}return{...state,currentOperand:state.currentOperand.slice(0,-1)};case ACTIONS.EVALUATE:if(state.operation==null||state.currentOperand==null||state.previousOperand==null){return state;}return{...state,overwrite:true,previousOperand:null,operation:null,currentOperand:evaluate(state)};}}}function evaluate(_ref3){let{currentOperand,previousOperand,operation}=_ref3;const prev=parseFloat(previousOperand);const current=parseFloat(currentOperand);if(isNaN(prev)||isNaN(current))return\"\";let computation=\"\";switch(operation){case\"+\":computation=prev+current;break;case\"-\":computation=prev-current;break;case\"*\":computation=prev*current;break;case\"รท\":computation=prev/current;break;}return computation.toString();}const INTEGER_FORMATTER=new Intl.NumberFormat(\"en-us\",{maximumFractionDigits:0});function formatOperand(operand){if(operand==null)return;const[integer,decimal]=operand.split(\".\");if(decimal==null)return INTEGER_FORMATTER.format(integer);return\"\".concat(INTEGER_FORMATTER.format(integer),\".\").concat(decimal);}function App(){const[{currentOperand,previousOperand,operation},dispatch]=useReducer(reducer,{});return/*#__PURE__*/_jsxs(\"div\",{className:\"calculator-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"output\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"previous-operand\",children:[formatOperand(previousOperand),\" \",operation]}),/*#__PURE__*/_jsx(\"div\",{className:\"current-operand\",children:formatOperand(currentOperand)})]}),/*#__PURE__*/_jsx(\"button\",{className:\"span-two\",onClick:()=>dispatch({type:ACTIONS.CLEAR}),children:\"AC\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>dispatch({type:ACTIONS.DELETE_DIGIT}),children:\"DEL\"}),/*#__PURE__*/_jsx(OperationButton,{operation:\"\\xF7\",dispatch:dispatch}),/*#__PURE__*/_jsx(DigitButton,{digit:\"1\",dispatch:dispatch}),/*#__PURE__*/_jsx(DigitButton,{digit:\"2\",dispatch:dispatch}),/*#__PURE__*/_jsx(DigitButton,{digit:\"3\",dispatch:dispatch}),/*#__PURE__*/_jsx(OperationButton,{operation:\"*\",dispatch:dispatch}),/*#__PURE__*/_jsx(DigitButton,{digit:\"4\",dispatch:dispatch}),/*#__PURE__*/_jsx(DigitButton,{digit:\"5\",dispatch:dispatch}),/*#__PURE__*/_jsx(DigitButton,{digit:\"6\",dispatch:dispatch}),/*#__PURE__*/_jsx(OperationButton,{operation:\"+\",dispatch:dispatch}),/*#__PURE__*/_jsx(DigitButton,{digit:\"7\",dispatch:dispatch}),/*#__PURE__*/_jsx(DigitButton,{digit:\"8\",dispatch:dispatch}),/*#__PURE__*/_jsx(DigitButton,{digit:\"9\",dispatch:dispatch}),/*#__PURE__*/_jsx(OperationButton,{operation:\"-\",dispatch:dispatch}),/*#__PURE__*/_jsx(DigitButton,{digit:\".\",dispatch:dispatch}),/*#__PURE__*/_jsx(DigitButton,{digit:\"0\",dispatch:dispatch}),/*#__PURE__*/_jsx(\"button\",{className:\"span-two\",onClick:()=>dispatch({type:ACTIONS.EVALUATE}),children:\"=\"})]});}export default App;","map":{"version":3,"names":["userReducer","DigitButton","OperationButton","jsxs","_jsxs","jsx","_jsx","ACTIONS","ADD_DIGIT","CHOOSE_OPERATION","CLEAR","DELETE_DIGIT","EVALUATE","reducer","state","_ref","type","payload","_ref2","overwrite","currentOperand","digit","includes","concat","previousOperand","operation","evaluate","length","slice","_ref3","prev","parseFloat","current","isNaN","computation","toString","INTEGER_FORMATTER","Intl","NumberFormat","maximumFractionDigits","formatOperand","operand","integer","decimal","split","format","App","dispatch","useReducer","className","children","onClick"],"sources":["/Users/alielakhras/Desktop/React/src/App.js"],"sourcesContent":["import \"./styles.css\"\nimport {userReducer} from \"react\"\nimport DigitButton from \"./DigitButton\"\nimport OperationButton from \"./OperationButton\"\n\nconst ACTIONS = {\n    ADD_DIGIT : \"add-digit\",\n    CHOOSE_OPERATION : \"choose-operation\",\n    CLEAR : \"Clear\",\n    DELETE_DIGIT : \"delete-digit\",\n    EVALUATE: \"evaluate\"\n\n}\nfunction reducer(state,{type, payload}){\n\n    function reducer(state, { type, payload }) {\n        switch (type) {\n          case ACTIONS.ADD_DIGIT:\n            if (state.overwrite) {\n              return {\n                ...state,\n                currentOperand: payload.digit,\n                overwrite: false,\n              }\n            }\n            if (payload.digit === \"0\" && state.currentOperand === \"0\") {\n              return state\n            }\n            if (payload.digit === \".\" && state.currentOperand.includes(\".\")) {\n              return state\n            }\n      \n            return {\n              ...state,\n              currentOperand: `${state.currentOperand || \"\"}${payload.digit}`,\n            }\n          case ACTIONS.CHOOSE_OPERATION:\n            if (state.currentOperand == null && state.previousOperand == null) {\n              return state\n            }\n      \n            if (state.currentOperand == null) {\n              return {\n                ...state,\n                operation: payload.operation,\n              }\n            }\n      \n            if (state.previousOperand == null) {\n              return {\n                ...state,\n                operation: payload.operation,\n                previousOperand: state.currentOperand,\n                currentOperand: null,\n              }\n            }\n      \n            return {\n              ...state,\n              previousOperand: evaluate(state),\n              operation: payload.operation,\n              currentOperand: null,\n            }\n          case ACTIONS.CLEAR:\n            return {}\n          case ACTIONS.DELETE_DIGIT:\n            if (state.overwrite) {\n              return {\n                ...state,\n                overwrite: false,\n                currentOperand: null,\n              }\n            }\n            if (state.currentOperand == null) return state\n            if (state.currentOperand.length === 1) {\n              return { ...state, currentOperand: null }\n            }\n      \n            return {\n              ...state,\n              currentOperand: state.currentOperand.slice(0, -1),\n            }\n          case ACTIONS.EVALUATE:\n            if (\n              state.operation == null ||\n              state.currentOperand == null ||\n              state.previousOperand == null\n            ) {\n              return state\n            }\n      \n            return {\n              ...state,\n              overwrite: true,\n              previousOperand: null,\n              operation: null,\n              currentOperand: evaluate(state),\n            }\n        }\n      }\n}\n\n\nfunction evaluate({ currentOperand, previousOperand, operation }) {\n    const prev = parseFloat(previousOperand)\n    const current = parseFloat(currentOperand)\n    if (isNaN(prev) || isNaN(current)) return \"\"\n    let computation = \"\"\n    switch (operation) {\n      case \"+\":\n        computation = prev + current\n        break\n      case \"-\":\n        computation = prev - current\n        break\n      case \"*\":\n        computation = prev * current\n        break\n      case \"รท\":\n        computation = prev / current\n        break\n    }\n  \n    return computation.toString()\n  }\n  \n  const INTEGER_FORMATTER = new Intl.NumberFormat(\"en-us\", {\n    maximumFractionDigits: 0,\n  })\n  function formatOperand(operand) {\n    if (operand == null) return\n    const [integer, decimal] = operand.split(\".\")\n    if (decimal == null) return INTEGER_FORMATTER.format(integer)\n    return `${INTEGER_FORMATTER.format(integer)}.${decimal}`\n}   \n\nfunction App() {\n    const [{ currentOperand, previousOperand, operation }, dispatch] = useReducer(\n      reducer,\n      {}\n    )\n  \n    return (\n      <div className=\"calculator-grid\">\n        <div className=\"output\">\n          <div className=\"previous-operand\">\n            {formatOperand(previousOperand)} {operation}\n          </div>\n          <div className=\"current-operand\">{formatOperand(currentOperand)}</div>\n        </div>\n        <button\n          className=\"span-two\"\n          onClick={() => dispatch({ type: ACTIONS.CLEAR })}\n        >\n          AC\n        </button>\n        <button onClick={() => dispatch({ type: ACTIONS.DELETE_DIGIT })}>\n          DEL\n        </button>\n        <OperationButton operation=\"รท\" dispatch={dispatch} />\n        <DigitButton digit=\"1\" dispatch={dispatch} />\n        <DigitButton digit=\"2\" dispatch={dispatch} />\n        <DigitButton digit=\"3\" dispatch={dispatch} />\n        <OperationButton operation=\"*\" dispatch={dispatch} />\n        <DigitButton digit=\"4\" dispatch={dispatch} />\n        <DigitButton digit=\"5\" dispatch={dispatch} />\n        <DigitButton digit=\"6\" dispatch={dispatch} />\n        <OperationButton operation=\"+\" dispatch={dispatch} />\n        <DigitButton digit=\"7\" dispatch={dispatch} />\n        <DigitButton digit=\"8\" dispatch={dispatch} />\n        <DigitButton digit=\"9\" dispatch={dispatch} />\n        <OperationButton operation=\"-\" dispatch={dispatch} />\n        <DigitButton digit=\".\" dispatch={dispatch} />\n        <DigitButton digit=\"0\" dispatch={dispatch} />\n        <button\n          className=\"span-two\"\n          onClick={() => dispatch({ type: ACTIONS.EVALUATE })}\n        >\n          =\n        </button>\n      </div>\n    )\n  }\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}